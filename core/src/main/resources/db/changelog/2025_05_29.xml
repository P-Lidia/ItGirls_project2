<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">

    <changeSet id="init db" author="author name">
        <sql>
            CREATE TABLE IF NOT EXISTS company (
            id BIGSERIAL PRIMARY KEY,
            name VARCHAR NOT NULL
            );

            CREATE TABLE IF NOT EXISTS product (
            id BIGSERIAL PRIMARY KEY,
            name VARCHAR NOT NULL,
            price NUMERIC NOT NULL,
            company_id BIGINT NOT NULL,
            FOREIGN KEY (company_id) REFERENCES company(id)
            );

            CREATE TABLE IF NOT EXISTS users (
            id BIGSERIAL PRIMARY KEY,
            name VARCHAR NOT NULL,
            surname VARCHAR,
            email VARCHAR NOT NULL UNIQUE,
            role VARCHAR NOT NULL,
            enabled BOOLEAN NOT NULL DEFAULT FALSE,
            password VARCHAR(255) NOT NULL
            );

            INSERT INTO company (name) VALUES
            ('sweet dreams'),
            ('paperclip'),
            ('crystal goose');

            INSERT INTO product (name, price, company_id) VALUES
            ('pillow', 2450.50, 1),
            ('blanket', 5005.6, 1),
            ('mattress', 25000, 1),
            ('covering blue', 7200, 2),
            ('covering yellow', 17200, 2),
            ('notebook', 150, 2),
            ('pen blue', 72, 2),
            ('pen black', 85, 2),
            ('pencil HB', 85, 2),
            ('colored pencils 12', 850, 3),
            ('colored pencils 36', 1850, 3),
            ('colored pencils 48', 2500, 3),
            ('mug', 340, 3),
            ('plate', 250, 3),
            ('cutlery 24', 7850, 3),
            ('cutlery 32', 16000, 3);

            Insert into users(name, surname, email, role, enabled, password) values
            ('Admin', '', 'admin@example.com', 'ROLE_ADMIN', TRUE,
            '$2a$12$XiNkMMp4Omb5/4FVsTPOj.egeQGQW7QxHOQ8UXSmn4msCFudYen26'),
            ('User', '', 'user@example.com', 'ROLE_USER', FALSE,
            '$2a$12$YLg22j519cmMPRlpY4jbqundladwRQWgzFsNoGlcGue3Q/h7SeBcy'),
            ('Manager', '', 'manager@example.com', 'ROLE_MANAGER', FALSE,
            '$2a$12$xf4EJgF2fnEy3PtdY6yJmuHQGRob6Xkb41s.EPRKXg.FJ4AKk/O1e');
        </sql>
    </changeSet>
</databaseChangeLog>